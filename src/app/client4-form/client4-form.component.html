<!DOCTYPE html>
<div class="form-container">
  <form (submit)="onSave()">
    <div class="form-row">
      <label for="phone">Phone Number:</label>
      <input type="tel" id="phone" name="phone" [(ngModel)]="formData.phone" required class="form-row"
        (input)="onPhoneNumberChange()">
      <div class="modal" *ngIf="showModal">
        <div class="modal-content">
          <h2>Suggestions</h2>
          <ul>
            <li *ngFor="let suggestion of suggestions | keyvalue">
              <button (click)="onSuggestionSelected(suggestion.key, suggestion.value)">
                {{ suggestion.value }}
              </button>
            </li>
          </ul>
          <button (click)="onCancelSuggestions()">Cancel</button>
        </div>
      </div>
    </div>
    <div class="form-row">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" [(ngModel)]="formData.name" required class="form-row">
    </div>

    <div class="form-block" class="form-row">
      <div class="form-col">
        <label for="pin">Pin:</label>
        <input type="text" id="pin" name="pin" [(ngModel)]="formData.pin" required class="form-row">
      </div>
      <div class="form-col">
        <label for="state">State:</label>
        <select id="state" name="state" [(ngModel)]="formData.state" required class="form-row">
          <option *ngFor="let option of stateOptions" [value]="option">{{ option }}</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <label for="address">Address(House No. Building Area Street):</label>
      <input type="text" id="address" name="address" [(ngModel)]="formData.address" required
        class="form-row double-height">
    </div>
    <div class="form-row">
      <label for="double-height">Locality</label>
      <input type="text" id="locality" name="locality" [(ngModel)]="formData.locality" required class="form-row">
    </div>
    <div class="form-row">
      <label for="city">City/District/Town:</label>
      <input type="text" id="city" name="city" [(ngModel)]="formData.city" required class="form-row">
    </div>
    <div class="form-row">
      <div class="modal" *ngIf="loading">
        <div class="modal-content loading-spinner"> Loading... </div>
      </div>
      <button type="submit">Save</button>
      <button type="button" (click)="onCancel()">Cancel</button>
    </div>
    <div class="form-row" *ngIf="showEntities">
      <label for="entities">Entities:</label>
      <textarea type="text" id="entities" name="entities" [(ngModel)]="formData.entities" required
        class="form-row" readonly> </textarea>
    </div>

    <div class="form-row" *ngIf="showAddress">
      <label for="complete_address">Complete Address:</label>
      <textarea type="text" id="complete_address" name="complete_address" [(ngModel)]="formData.complete_address"
        required class="form-row" readonly> </textarea>
    </div>
  </form>

</div>